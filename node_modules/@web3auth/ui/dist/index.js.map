{"version":3,"file":"index.js","sources":["../src/config.ts","../src/interfaces.ts","../../../node_modules/style-inject/dist/style-inject.es.js","../src/localeImport.ts","../src/components/SelfCustodyViaWeb3Auth.tsx","../src/components/Footer.tsx","../src/components/Icon.tsx","../src/components/Image.tsx","../src/components/AdapterLoader.tsx","../src/components/Button/Button.tsx","../src/components/Loader.tsx","../src/components/WalletConnect.tsx","../src/components/ExternalWallets.tsx","../src/context/ThemeContext.tsx","../src/components/Header.tsx","../src/utils.ts","../src/components/SocialLoginPasswordless.tsx","../src/components/SocialLogins.tsx","../src/components/Modal.tsx","../src/loginModal.tsx"],"sourcesContent":["import { LOGIN_PROVIDER, LOGIN_PROVIDER_TYPE } from \"@toruslabs/openlogin-utils\";\n\nexport function capitalizeFirstLetter(string: string): string {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport const OPENLOGIN_PROVIDERS = Object.values(LOGIN_PROVIDER).filter((x) => x !== LOGIN_PROVIDER.WEBAUTHN && x !== LOGIN_PROVIDER.JWT);\n\nexport const OPENLOGIN_PROVIDERS_NAMES = OPENLOGIN_PROVIDERS.reduce(\n  (acc, x) => {\n    if (x === \"email_passwordless\") acc[x] = \"Email\";\n    else if (x === \"sms_passwordless\") acc[x] = \"Mobile\";\n    else acc[x] = capitalizeFirstLetter(x);\n    return acc;\n  },\n  {} as Record<LOGIN_PROVIDER_TYPE, string>\n);\n","import { SafeEventEmitter } from \"@toruslabs/openlogin-jrpc\";\nimport { UX_MODE_TYPE, WhiteLabelData } from \"@toruslabs/openlogin-utils\";\nimport { BaseAdapterConfig, IWalletConnectExtensionAdapter, LoginMethodConfig, WALLET_ADAPTER_TYPE } from \"@web3auth/base\";\n\n// capture whitelabel only once\nexport interface UIConfig extends WhiteLabelData {\n  /**\n   * order of how login methods are shown\n   *\n   * @defaultValue `[\"google\", \"facebook\", \"twitter\", \"reddit\", \"discord\", \"twitch\", \"apple\", \"line\", \"github\", \"kakao\", \"linkedin\", \"weibo\", \"wechat\", \"email_passwordless\"]`\n   */\n  loginMethodsOrder?: string[];\n\n  /**\n   * Z-index of the modal and iframe\n   * @defaultValue 99998\n   */\n  modalZIndex?: string;\n\n  /**\n   * Whether to show errors on Web3Auth modal.\n   *\n   * @defaultValue `true`\n   */\n  displayErrorsOnModal?: boolean;\n\n  /**\n   * number of columns to display the Social Login buttons\n   *\n   * @defaultValue `3`\n   */\n  loginGridCol?: 2 | 3;\n\n  /**\n   * Decides which button will be the focus of the modal\n   * For `socialLogin` the social icon will be colored\n   * For other options like `emailLogin` and `externalLogin` the respective buttons will be coverted into a primary button\n   *\n   * @defaultValue `socialLogin`\n   */\n  primaryButton?: \"externalLogin\" | \"socialLogin\" | \"emailLogin\";\n\n  adapterListener: SafeEventEmitter;\n\n  /**\n   * UX Mode for the openlogin adapter\n   */\n  uxMode?: UX_MODE_TYPE;\n}\n\nexport const LOGIN_MODAL_EVENTS = {\n  INIT_EXTERNAL_WALLETS: \"INIT_EXTERNAL_WALLETS\",\n  LOGIN: \"LOGIN\",\n  DISCONNECT: \"DISCONNECT\",\n  MODAL_VISIBILITY: \"MODAL_VISIBILITY\",\n};\n\nexport type SocialLoginsConfig = {\n  loginMethodsOrder: string[];\n  loginMethods: LoginMethodConfig;\n  adapter: WALLET_ADAPTER_TYPE;\n  uiConfig: Omit<UIConfig, \"adapterListener\">;\n};\n\nexport const MODAL_STATUS = {\n  INITIALIZED: \"initialized\",\n  CONNECTED: \"connected\",\n  CONNECTING: \"connecting\",\n  ERRORED: \"errored\",\n};\nexport type ModalStatusType = (typeof MODAL_STATUS)[keyof typeof MODAL_STATUS];\n\nexport interface ModalState {\n  status: ModalStatusType;\n  externalWalletsInitialized: boolean;\n  hasExternalWallets: boolean;\n  externalWalletsVisibility: boolean;\n  modalVisibility: boolean;\n  modalVisibilityDelayed: boolean;\n  postLoadingMessage: string;\n  walletConnectUri: string;\n  socialLoginsConfig: SocialLoginsConfig;\n  externalWalletsConfig: Record<string, BaseAdapterConfig>;\n  detailedLoaderAdapter: string;\n  detailedLoaderAdapterName: string;\n  showExternalWalletsOnly: boolean;\n  wcAdapters: IWalletConnectExtensionAdapter[];\n}\n\nexport type SocialLoginEventType = { adapter: string; loginParams: { loginProvider: string; login_hint?: string; name: string } };\nexport type ExternalWalletEventType = { adapter: string };\n\nexport const DEFAULT_LOGO_LIGHT = \"https://images.web3auth.io/web3auth-logo-w.svg\"; // logo used on light mode\nexport const DEFAULT_LOGO_DARK = \"https://images.web3auth.io/web3auth-logo-w-light.svg\"; // logo used on dark mode\n\nexport const WALLET_CONNECT_LOGO = \"https://images.web3auth.io/login-wallet-connect.svg\";\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\n\nimport { en } from \"./i18n\";\n\nconst i18nInstance = i18n.createInstance() as typeof i18n;\ni18nInstance.use(initReactI18next).init({\n  resources: {\n    en: { translation: en },\n  },\n  lng: \"en\",\n  fallbackLng: \"en\",\n  interpolation: { escapeValue: false },\n  debug: false,\n  react: {\n    useSuspense: true,\n  },\n});\n\nexport default i18nInstance;\n","import { useTranslation } from \"react-i18next\";\n\nimport i18n from \"../localeImport\";\n\nexport default function SelfCustodyViaWeb3Auth() {\n  const [t] = useTranslation(undefined, { i18n });\n\n  return (\n    <div className=\"flex items-center gap-2 justify-center p-2\">\n      <div className=\"text-xs text-app-gray-300 dark:text-app-gray-500\">{t(\"modal.footer.message-new\")}</div>\n      <img height=\"16\" src=\"https://images.web3auth.io/web3auth-footer-logo-light.svg\" alt=\"Web3Auth Logo Light\" className=\"h-4 block dark:hidden\" />\n      <img height=\"16\" src=\"https://images.web3auth.io/web3auth-footer-logo-dark.svg\" alt=\"Web3Auth Logo Dark\" className=\"h-4 hidden dark:block\" />\n    </div>\n  );\n}\n","import SelfCustodyViaWeb3Auth from \"./SelfCustodyViaWeb3Auth\";\n\nexport default function Footer() {\n  return (\n    <div className=\"w3a-modal__footer\">\n      <div className=\"w3a-footer\">\n        <div>\n          <div>\n            <SelfCustodyViaWeb3Auth />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","interface IconProps {\n  iconName: string;\n  iconTitle?: string;\n  width?: string;\n  height?: string;\n}\n\nconst icons: Record<string, { image: string }> = {\n  \"arrow-left\": {\n    image: \"https://images.web3auth.io/circle-arrow-left.svg\",\n  },\n  close: {\n    image: \"https://images.web3auth.io/close.svg\",\n  },\n  \"expand-light\": {\n    image: \"https://images.web3auth.io/expand-light.svg\",\n  },\n  expand: {\n    image: \"https://images.web3auth.io/expand.svg\",\n  },\n  connected: {\n    image: \"https://images.web3auth.io/connected.svg\",\n  },\n  \"information-circle-light\": {\n    image: \"https://images.web3auth.io/information-circle-light.svg\",\n  },\n  \"information-circle\": {\n    image: \"https://images.web3auth.io/information-circle.svg\",\n  },\n};\n\nexport default function Icon(props: IconProps) {\n  const { iconName, iconTitle = \"\", height = \"auto\", width = \"auto\" } = props;\n  return icons[iconName] ? (\n    <img className={iconTitle ? \"cursor-pointer\" : \"\"} height={height} width={width} src={icons[iconName].image} alt={iconName} title={iconTitle} />\n  ) : null;\n}\n","export interface ImageProps {\n  hoverImageId?: string;\n  imageId: string;\n  isButton?: boolean;\n  height?: string;\n  width?: string;\n}\nexport default function Image(props: ImageProps) {\n  const { hoverImageId, imageId, isButton = false, height = \"auto\", width = \"auto\" } = props;\n  return (\n    <>\n      <img src={`https://images.web3auth.io/${imageId}.svg`} height={height} width={width} alt={imageId} className=\"image-icon\" />\n      {isButton ? (\n        <img src={`https://images.web3auth.io/${hoverImageId}.svg`} height={height} width={width} alt={hoverImageId} className=\"hover-icon\" />\n      ) : null}\n    </>\n  );\n}\n","import { ADAPTER_STATUS, log } from \"@web3auth/base\";\nimport { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { MODAL_STATUS, ModalStatusType } from \"../interfaces\";\nimport i18n from \"../localeImport\";\nimport Footer from \"./Footer\";\nimport Icon from \"./Icon\";\nimport Image from \"./Image\";\n\ninterface DetailedLoaderProps {\n  message?: string;\n  appLogo?: string;\n  adapter: string;\n  adapterName: string;\n  modalStatus: ModalStatusType;\n  onClose: () => void;\n}\n\nconst closeIcon = <Icon iconName=\"close\" />;\n\nexport default function DetailedLoader(props: DetailedLoaderProps) {\n  const { adapter, appLogo, message, modalStatus, adapterName, onClose } = props;\n  const providerIcon = adapter === \"twitter\" ? <Image imageId=\"login-x-dark\" /> : <Image imageId={`login-${adapter}`} />;\n  const [t] = useTranslation(undefined, { i18n });\n\n  useEffect(() => {\n    log.debug(\"adapter loader re-rendering\");\n    if (modalStatus === MODAL_STATUS.CONNECTED) {\n      setTimeout(() => {\n        onClose();\n      }, 3000);\n    }\n  }, [modalStatus, onClose]);\n\n  return modalStatus !== MODAL_STATUS.INITIALIZED ? (\n    <div className=\"w3ajs-modal-loader w3a-modal__loader\">\n      <div className=\"w3a-modal__loader-content\">\n        <div className=\"w3a-modal__loader-info\">\n          {modalStatus === MODAL_STATUS.CONNECTING && (\n            <>\n              <div className=\"w3a-modal__loader-bridge\">\n                <div className=\"w3a-modal__loader-app-logo\">\n                  <img src={appLogo} className=\"block dark:hidden\" alt=\"\" />\n                  <img src={appLogo} className=\"hidden dark:block\" alt=\"\" />\n                </div>\n                <div className=\"w3a-modal__connector\">\n                  <div className=\"w3a-modal__connector-beat\">\n                    <div />\n                    <div />\n                    <div />\n                    <div />\n                    <div />\n                  </div>\n                </div>\n                <div className=\"w3a-modal__loader-social-logo\">{providerIcon}</div>\n              </div>\n              <div>\n                <div className=\"w3a-modal__loader-bridge-message\">{t(\"modal.adapter-loader.message1\", { adapter: adapterName })}</div>\n                <div className=\"w3a-modal__loader-bridge-message\">{t(\"modal.adapter-loader.message2\", { adapter: adapterName })}</div>\n              </div>\n            </>\n          )}\n          {modalStatus === ADAPTER_STATUS.CONNECTED && (\n            <div className=\"flex flex-col items-center\">\n              <Icon iconName=\"connected\" />\n              <div className=\"w3ajs-modal-loader__message w3a-spinner-message mt-4\">{message}</div>\n            </div>\n          )}\n          {modalStatus === ADAPTER_STATUS.ERRORED && (\n            <div className=\"w3ajs-modal-loader__message w3a-spinner-message w3a-spinner-message--error\">{message}</div>\n          )}\n        </div>\n\n        <Footer />\n      </div>\n      {(modalStatus === ADAPTER_STATUS.CONNECTED || modalStatus === ADAPTER_STATUS.ERRORED) && (\n        <button type=\"button\" className=\"w3a-header__button w3ajs-loader-close-btn\" onClick={onClose}>\n          {closeIcon}\n        </button>\n      )}\n    </div>\n  ) : null;\n}\n","import \"./styles.css\";\n\nimport { CSSProperties, memo, ReactNode } from \"react\";\n\ntype ButtonProps = {\n  variant: \"primary\" | \"secondary\" | \"tertiary\";\n  onClick?: () => void;\n  title?: string;\n  children?: ReactNode;\n  className?: string;\n  style?: CSSProperties;\n  size?: string;\n  disabled?: boolean;\n  // TODO: type this using html attributes\n  type?: \"button\" | \"submit\";\n};\n\nfunction Button(props: ButtonProps) {\n  const { variant = \"primary\", onClick, children, title, className, style, size = \"md\", disabled, type = \"button\" } = props;\n\n  const sizeClass = `size-${size}`;\n\n  return (\n    <button\n      disabled={disabled}\n      // eslint-disable-next-line react/button-has-type\n      type={type}\n      className={`t-btn t-btn-${variant} rounded-full ${sizeClass} ${className}`}\n      onClick={onClick}\n      title={title}\n      style={style}\n    >\n      {children}\n    </button>\n  );\n}\n\nexport default memo(Button);\n","import { ADAPTER_STATUS, log } from \"@web3auth/base\";\nimport { useEffect } from \"react\";\n\nimport { MODAL_STATUS, ModalStatusType } from \"../interfaces\";\nimport Footer from \"./Footer\";\nimport Icon from \"./Icon\";\n\ninterface LoaderProps {\n  message?: string;\n  modalStatus: ModalStatusType;\n  label?: string;\n  onClose?: () => void;\n  canEmit?: boolean;\n}\n\nconst closeIcon = <Icon iconName=\"close\" />;\n\nexport default function Loader(props: LoaderProps) {\n  const { message, modalStatus, label, onClose, canEmit = true } = props;\n\n  useEffect(() => {\n    log.debug(\"loader re-rendering\");\n    if (modalStatus === MODAL_STATUS.CONNECTED && canEmit) {\n      setTimeout(() => {\n        onClose();\n      }, 3000);\n    }\n  }, [canEmit, modalStatus, onClose]);\n\n  return modalStatus !== MODAL_STATUS.INITIALIZED ? (\n    <div className=\"w3ajs-modal-loader w3a-modal__loader\">\n      <div className=\"w3a-modal__loader-content\">\n        <div className=\"w3a-modal__loader-info\">\n          {modalStatus === MODAL_STATUS.CONNECTING && (\n            <div className=\"w3ajs-modal-loader__spinner w3a-spinner\">\n              <div className=\"w3a-spinner__spinner\" />\n            </div>\n          )}\n\n          <div className=\"w3ajs-modal-loader__label w3a-spinner-label\">{label}</div>\n          {modalStatus === ADAPTER_STATUS.CONNECTED && <div className=\"w3ajs-modal-loader__message w3a-spinner-message\">{message}</div>}\n          {modalStatus === ADAPTER_STATUS.ERRORED && (\n            <div className=\"w3ajs-modal-loader__message w3a-spinner-message w3a-spinner-message--error\">{message}</div>\n          )}\n        </div>\n\n        <Footer />\n      </div>\n      {(modalStatus === ADAPTER_STATUS.CONNECTED || modalStatus === ADAPTER_STATUS.ERRORED) && (\n        <button type=\"button\" className=\"w3a-header__button w3ajs-loader-close-btn\" onClick={onClose}>\n          {closeIcon}\n        </button>\n      )}\n    </div>\n  ) : null;\n}\n","import copyToClipboard from \"copy-to-clipboard\";\nimport { memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { QRCode } from \"react-qrcode-logo\";\n\nimport { WALLET_CONNECT_LOGO } from \"../interfaces\";\nimport i18n from \"../localeImport\";\n\ninterface WalletConnectProps {\n  walletConnectUri: string;\n}\n\nfunction WalletConnect(props: WalletConnectProps) {\n  const { walletConnectUri } = props;\n\n  const [t] = useTranslation(undefined, { i18n });\n\n  // TODO: show only wcAdapters of current chain\n  return (\n    <div className=\"w3ajs-wallet-connect w3a-wallet-connect\">\n      <div className=\"w3ajs-wallet-connect__container w3a-wallet-connect__container\">\n        <div className=\"w3a-wallet-connect__container-desktop\">\n          <div>{t(\"modal.external.walletconnect-subtitle\")}</div>\n          <div\n            className=\"w3ajs-wallet-connect-qr w3a-wallet-connect-qr\"\n            tabIndex={0}\n            role=\"button\"\n            onClick={() => copyToClipboard(walletConnectUri)}\n            onKeyDown={() => copyToClipboard(walletConnectUri)}\n          >\n            <QRCode size={200} eyeRadius={5} qrStyle=\"dots\" removeQrCodeBehindLogo logoImage={WALLET_CONNECT_LOGO} value={walletConnectUri} />\n          </div>\n          <div>{t(\"modal.external.walletconnect-copy\")}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(WalletConnect);\n","import { BaseAdapterConfig, IWalletConnectExtensionAdapter, log, WALLET_ADAPTERS } from \"@web3auth/base\";\nimport bowser from \"bowser\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { MODAL_STATUS, ModalStatusType, WALLET_CONNECT_LOGO } from \"../interfaces\";\nimport i18n from \"../localeImport\";\nimport Button from \"./Button\";\nimport Icon from \"./Icon\";\nimport Image from \"./Image\";\nimport Loader from \"./Loader\";\nimport WalletConnect from \"./WalletConnect\";\n\ndeclare global {\n  interface Window {\n    ethereum: {\n      isMetaMask?: boolean;\n    };\n  }\n}\n\ninterface ExternalWalletsProps {\n  hideExternalWallets: () => void;\n  handleExternalWalletClick: (params: { adapter: string }) => void;\n  config: Record<string, BaseAdapterConfig>;\n  walletConnectUri: string | undefined;\n  showBackButton: boolean;\n  modalStatus: ModalStatusType;\n  wcAdapters: IWalletConnectExtensionAdapter[];\n}\n\ntype ExternalButton = {\n  name: string;\n  href?: string;\n  logo?: string;\n  isLink: boolean;\n  block: boolean;\n};\n\ninterface IMobileRegistryEntry {\n  name: string;\n  logo: string;\n  universalLink: string;\n  deepLink: string;\n  href: string;\n}\n\ntype os = \"iOS\" | \"Android\";\n\ntype platform = \"mobile\" | \"desktop\" | \"tablet\";\n\nfunction formatIOSMobile(params: { uri: string; universalLink?: string; deepLink?: string }) {\n  const encodedUri: string = encodeURIComponent(params.uri);\n  if (params.universalLink) {\n    return `${params.universalLink}/wc?uri=${encodedUri}`;\n  }\n  if (params.deepLink) {\n    return `${params.deepLink}${params.deepLink.endsWith(\":\") ? \"//\" : \"/\"}wc?uri=${encodedUri}`;\n  }\n  return \"\";\n}\n\nfunction formatMobileRegistryEntry(\n  entry: IWalletConnectExtensionAdapter,\n  walletConnectUri: string,\n  os: os,\n  platform: \"mobile\" | \"desktop\" = \"mobile\"\n): IMobileRegistryEntry {\n  const universalLink = entry[platform].universal || \"\";\n  const deepLink = entry[platform].native || \"\";\n  return {\n    name: entry.name || \"\",\n    logo: entry.logo || \"\",\n    universalLink,\n    deepLink,\n    href: os === bowser.OS_MAP.iOS ? formatIOSMobile({ uri: walletConnectUri, universalLink, deepLink }) : walletConnectUri,\n  };\n}\n\nfunction formatMobileRegistry(\n  registry: IWalletConnectExtensionAdapter[],\n  walletConnectUri: string,\n  os: os,\n  platform: \"mobile\" | \"desktop\" = \"mobile\"\n): IMobileRegistryEntry[] {\n  return Object.values<IWalletConnectExtensionAdapter>(registry)\n    .filter((entry) => !!entry[platform].universal || !!entry[platform].native)\n    .map((entry) => formatMobileRegistryEntry(entry, walletConnectUri, os, platform));\n}\n\nexport default function ExternalWallet(props: ExternalWalletsProps) {\n  const { hideExternalWallets, handleExternalWalletClick, config = {}, walletConnectUri, showBackButton, modalStatus, wcAdapters } = props;\n  const [isLoaded, setIsLoaded] = useState(true);\n  const [adapterVisibilityMap, setAdapterVisibilityMap] = useState<Record<string, boolean>>({});\n  const [externalButtons, setExternalButtons] = useState<ExternalButton[]>([]);\n\n  const deviceType = useMemo<platform>(() => {\n    const browser = bowser.getParser(window.navigator.userAgent);\n    return browser.getPlatformType() as platform;\n  }, []);\n\n  const deviceDetails = useMemo<{ platform: platform; os: os }>(() => {\n    const browser = bowser.getParser(window.navigator.userAgent);\n    return { platform: browser.getPlatformType() as platform, os: browser.getOSName() as os };\n  }, []);\n\n  const [t] = useTranslation(undefined, { i18n });\n\n  useEffect(() => {\n    log.debug(\"loaded external wallets\", config, walletConnectUri, deviceType);\n    const walletConnectAdapterName = WALLET_ADAPTERS.WALLET_CONNECT_V2;\n    const wcAvailable = (config[walletConnectAdapterName]?.showOnModal || false) !== false;\n    if (wcAvailable && !walletConnectUri) {\n      setIsLoaded(false);\n      handleExternalWalletClick({ adapter: walletConnectAdapterName });\n    } else if (Object.keys(config).length > 0) {\n      setIsLoaded(true);\n    }\n\n    const canShowMap: Record<string, boolean> = {};\n    Object.keys(config).forEach((adapter) => {\n      const adapterConfig = config[adapter];\n      if (!adapterConfig.showOnModal) {\n        canShowMap[adapter] = false;\n        return;\n      }\n      if (deviceType === \"desktop\" && adapterConfig.showOnDesktop) {\n        canShowMap[adapter] = true;\n        return;\n      }\n      if ((deviceType === \"mobile\" || deviceType === \"tablet\") && adapterConfig.showOnMobile) {\n        canShowMap[adapter] = true;\n        return;\n      }\n      canShowMap[adapter] = false;\n    });\n    setAdapterVisibilityMap(canShowMap);\n  }, [config, handleExternalWalletClick, walletConnectUri, deviceType]);\n\n  useEffect(() => {\n    const buttons: ExternalButton[] = [];\n    // add wallet connect links\n    if (deviceDetails.platform === bowser.PLATFORMS_MAP.mobile) {\n      let mobileLinks = formatMobileRegistry(wcAdapters, walletConnectUri, deviceDetails.os, deviceDetails.platform as \"mobile\" | \"desktop\");\n      if (deviceDetails.os === bowser.OS_MAP.iOS) {\n        if (window.ethereum?.isMetaMask) {\n          // if metamask, use the metamask adapter directly\n          mobileLinks = mobileLinks.filter((x) => x.name !== \"MetaMask\");\n        }\n        buttons.push(\n          ...mobileLinks.map((link) => ({\n            name: link.name,\n            href: link.href,\n            logo: link.logo,\n            isLink: true,\n            block: false,\n          }))\n        );\n      } else if (mobileLinks.length > 0) {\n        buttons.push({\n          name: \"WalletConnect\",\n          href: mobileLinks[0].href,\n          logo: WALLET_CONNECT_LOGO,\n          isLink: true,\n          block: true,\n        });\n      }\n    }\n\n    const adapterBtns = Object.keys(config)\n      .filter((adapter) => ![WALLET_ADAPTERS.WALLET_CONNECT_V2].includes(adapter) && adapterVisibilityMap[adapter])\n      .map((adapter) => ({\n        name: adapter,\n        isLink: false,\n        block: false,\n      }));\n\n    if (adapterBtns.length === 1 && deviceDetails.os !== bowser.OS_MAP.iOS) adapterBtns[0].block = true;\n\n    buttons.push(...adapterBtns);\n    setExternalButtons(buttons);\n  }, [wcAdapters, config, deviceDetails.os, deviceDetails.platform, walletConnectUri, adapterVisibilityMap]);\n\n  return (\n    <div className=\"w3ajs-external-wallet w3a-group\">\n      <div className=\"w3a-external-container w3ajs-external-container\">\n        {showBackButton && (\n          <button type=\"button\" className=\"w3a-external-back w3ajs-external-back\" onClick={() => hideExternalWallets()}>\n            <Icon iconName=\"arrow-left\" />\n            <div className=\"w3a-group__title\">{t(\"modal.external.back\")}</div>\n          </button>\n        )}\n        {!isLoaded && <Loader modalStatus={MODAL_STATUS.CONNECTING} canEmit={false} />}\n        {/* <!-- Other Wallet --> */}\n        {Object.keys(config).map((adapter) => {\n          if (walletConnectUri && deviceDetails.platform === bowser.PLATFORMS_MAP.desktop && [WALLET_ADAPTERS.WALLET_CONNECT_V2].includes(adapter)) {\n            return <WalletConnect key={adapter} walletConnectUri={walletConnectUri} />;\n          }\n          return null;\n        })}\n        {modalStatus === MODAL_STATUS.INITIALIZED &&\n          (externalButtons.length > 0 ? (\n            <ul className=\"w3a-adapter-list w3ajs-wallet-adapters\">\n              {externalButtons.map((button) => {\n                const providerIcon = button.isLink ? (\n                  <img src={button.logo} height=\"auto\" width=\"auto\" alt={`login-${button.name}`} />\n                ) : (\n                  <Image imageId={`login-${button.name}`} hoverImageId={`login-${button.name}`} height=\"32\" width=\"32\" isButton />\n                );\n\n                const isBlock = externalButtons.length === 1 || button.block;\n\n                const label = isBlock ? <p className=\"ml-2 text-left\">{config[button.name]?.label || button.name}</p> : \"\";\n                return (\n                  <li className={[`w3a-adapter-item`, isBlock ? \"w3a-adapter-item--full\" : \"col-span-2\"].join(\" \")} key={button.name}>\n                    {button.isLink ? (\n                      <a key={button.name} href={button.href} rel=\"noopener noreferrer\" target=\"_blank\">\n                        <Button type=\"button\" variant=\"tertiary\" className=\"w-full\">\n                          {providerIcon}\n                          {label}\n                        </Button>\n                      </a>\n                    ) : (\n                      <Button\n                        variant=\"tertiary\"\n                        type=\"button\"\n                        onClick={() => handleExternalWalletClick({ adapter: button.name })}\n                        className=\"w-full\"\n                        title={config[button.name]?.label || button.name}\n                      >\n                        {providerIcon}\n                        {label}\n                      </Button>\n                    )}\n                  </li>\n                );\n              })}\n            </ul>\n          ) : (\n            <div className=\"mt-4 text-center text-sm font-normal text-app-gray-500 dark:text-app-gray-400\">\n              {t(\"modal.external.no-wallets-found\")}\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n}\n","import { createContext } from \"react\";\n\nexport const ThemedContext = createContext({\n  isDark: true, // default value\n});\n","import { memo, useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { ThemedContext } from \"../context/ThemeContext\";\nimport { DEFAULT_LOGO_DARK, DEFAULT_LOGO_LIGHT } from \"../interfaces\";\nimport i18n from \"../localeImport\";\nimport Icon from \"./Icon\";\n\ninterface HeaderProps {\n  appName: string;\n  appLogo?: string;\n  onClose: () => void;\n}\n\nfunction Header(props: HeaderProps) {\n  const { isDark } = useContext(ThemedContext);\n  const { onClose, appLogo, appName } = props;\n\n  const [t] = useTranslation(undefined, { i18n });\n\n  const headerLogo = [DEFAULT_LOGO_DARK, DEFAULT_LOGO_LIGHT].includes(appLogo) ? \"\" : appLogo;\n\n  const subtitle = t(\"modal.header-subtitle-name\", { appName });\n\n  return (\n    <div className=\"w3a-modal__header\">\n      <div className=\"w3a-header\">\n        <div>\n          {headerLogo && (\n            <div className=\"w3a-header__logo\">\n              <img src={headerLogo} alt=\"\" />\n            </div>\n          )}\n          <div className=\"w3a-header__title\">{t(\"modal.header-title\")}</div>\n          <div className=\"w3a-header__subtitle\">\n            {subtitle}\n            <div className=\"relative flex flex-col items-center group cursor-pointer\">\n              <Icon iconName={`information-circle${isDark ? \"-light\" : \"\"}`} />\n              <div className=\"absolute top-4 z-20 flex-col items-center hidden mb-5 group-hover:flex\">\n                <div className=\"w-3 h-3 ml-[3px] -mb-2 rotate-45 bg-app-gray-50 dark:bg-app-gray-600\" />\n                <div\n                  className={`relative p-4 w-[270px] -translate-x-16 text-xs leading-none text-app-white rounded-md bg-app-gray-50 dark:bg-app-gray-600 shadow-lg ${subtitle.length > 34 ? \"-ml-[100px]\" : \"\"}`}\n                >\n                  <div className=\"text-xs font-medium mb-1 text-app-gray-900 dark:text-app-white\">{t(\"modal.header-tooltip-title\")}</div>\n                  <div className=\"text-xs text-app-gray-400\">{t(\"modal.header-tooltip-desc\")}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <button type=\"button\" onClick={onClose} className=\"w3a-header__button w3ajs-close-btn\">\n        <Icon iconName=\"close\" />\n      </button>\n    </div>\n  );\n}\n\nconst memoizedHeader = memo(Header, (prevProps: HeaderProps, nextProps: HeaderProps) => {\n  if (prevProps.appLogo !== nextProps.appLogo) {\n    return true;\n  }\n  return false;\n});\n\nmemoizedHeader.displayName = \"Header\";\n\nexport default memoizedHeader;\n","import { get, post } from \"@toruslabs/http-helpers\";\nimport { LANGUAGE_MAP, LANGUAGE_TYPE, LANGUAGES } from \"@toruslabs/openlogin-utils\";\nimport { log, LoginMethodConfig, WALLET_ADAPTERS, WalletInitializationError } from \"@web3auth/base\";\n\nimport { OPENLOGIN_PROVIDERS, OPENLOGIN_PROVIDERS_NAMES } from \"./config\";\n\nexport const getAdapterSocialLogins = (adapterName: string, loginMethodsConfig: LoginMethodConfig = {}): LoginMethodConfig => {\n  const finalLoginMethodsConfig: LoginMethodConfig = {};\n  if (adapterName === WALLET_ADAPTERS.OPENLOGIN) {\n    OPENLOGIN_PROVIDERS.forEach((loginMethod) => {\n      const currentLoginMethodConfig = loginMethodsConfig[loginMethod] || {\n        name: OPENLOGIN_PROVIDERS_NAMES[loginMethod],\n        showOnMobile: true,\n        showOnModal: true,\n        showOnDesktop: true,\n      };\n      finalLoginMethodsConfig[loginMethod] = { ...currentLoginMethodConfig };\n    });\n    log.debug(\"OpenLogin login method ui config\", finalLoginMethodsConfig);\n  } else {\n    throw WalletInitializationError.invalidParams(`${adapterName} is not a valid adapter`);\n  }\n  return finalLoginMethodsConfig;\n};\n\nexport async function validateImageUrl(url: string): Promise<boolean> {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.src = url;\n    if (img.complete) {\n      resolve(true);\n    } else {\n      img.addEventListener(\"load\", () => {\n        resolve(true);\n      });\n      img.addEventListener(\"error\", () => {\n        reject();\n      });\n    }\n  });\n}\n\nexport async function getNetworkIconId(ticker: string): Promise<string> {\n  const fallbackId = \"network-default\";\n  if (!ticker) return fallbackId;\n  try {\n    const url = `https://images.web3auth.io/network-${ticker.toLowerCase()}.svg`;\n    const isValid = await validateImageUrl(url);\n    if (isValid) {\n      return `network-${ticker.toLowerCase()}`;\n    }\n    return fallbackId;\n  } catch {\n    return fallbackId;\n  }\n}\n\nexport const passwordlessBackendUrl = \"https://api-passwordless.web3auth.io\";\n\nexport const getUserCountry = async (): Promise<{ country: string; dialCode: string } | null> => {\n  try {\n    const result = await get<{ data: { country: string; dial_code: string } }>(`${passwordlessBackendUrl}/api/v3/user/location`);\n    if (result && result.data.country) return { country: result.data.country, dialCode: result.data.dial_code };\n    return null;\n  } catch (error) {\n    log.error(\"error getting user country\", error);\n    return null;\n  }\n};\n\nexport const validatePhoneNumber = async (phoneNumber: string): Promise<string | boolean> => {\n  try {\n    const result = await post<{ success: boolean; parsed_number: string }>(`${passwordlessBackendUrl}/api/v3/phone_number/validate`, {\n      phone_number: phoneNumber,\n    });\n    if (result && result.success) return result.parsed_number;\n    return false;\n  } catch (error: unknown) {\n    log.error(\"error validating phone number\", error);\n    if ((error as Response).status === 400) {\n      return false;\n    }\n    // sending true because we don't want the user to be stuck on a flow\n    // if there is an error with the api or something went wrong.\n    return true;\n  }\n};\n\ninterface NavigatorLanguage {\n  userLanguage?: string;\n}\n\nexport const getUserLanguage = (defaultLanguage: string | undefined): LANGUAGE_TYPE => {\n  let userLanguage = defaultLanguage;\n  if (!userLanguage) {\n    const browserLanguage =\n      typeof window !== \"undefined\" ? (window.navigator as NavigatorLanguage).userLanguage || window.navigator.language || \"en-US\" : \"en-US\";\n    userLanguage = browserLanguage.split(\"-\")[0];\n  }\n  return Object.prototype.hasOwnProperty.call(LANGUAGE_MAP, userLanguage) ? (userLanguage as LANGUAGE_TYPE) : LANGUAGES.en;\n};\n","import { LOGIN_PROVIDER } from \"@toruslabs/openlogin-utils\";\nimport { ChangeEvent, FormEvent, useContext, useEffect, useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { ThemedContext } from \"../context/ThemeContext\";\nimport i18n from \"../localeImport\";\nimport { getUserCountry, validatePhoneNumber } from \"../utils\";\nimport Button from \"./Button\";\nimport Icon from \"./Icon\";\n\ninterface SocialLoginPasswordlessProps {\n  isPrimaryBtn: boolean;\n  isEmailVisible: boolean;\n  isSmsVisible: boolean;\n  adapter: string;\n  handleSocialLoginClick: (params: { adapter: string; loginParams: { loginProvider: string; login_hint?: string; name: string } }) => void;\n}\nexport default function SocialLoginPasswordless(props: SocialLoginPasswordlessProps) {\n  const { handleSocialLoginClick, adapter, isPrimaryBtn, isEmailVisible, isSmsVisible } = props;\n  const { isDark } = useContext(ThemedContext);\n\n  const [fieldValue, setFieldValue] = useState<string>(\"\");\n  const [countryCode, setCountryCode] = useState<string>(\"\");\n  const [isValidInput, setIsValidInput] = useState<boolean | null>(null);\n\n  const [t] = useTranslation(undefined, { i18n });\n\n  const handleFormSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const value = fieldValue;\n    if (isEmailVisible) {\n      const isEmailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n      if (isEmailValid) {\n        return handleSocialLoginClick({\n          adapter,\n          loginParams: { loginProvider: LOGIN_PROVIDER.EMAIL_PASSWORDLESS, login_hint: value, name: \"Email\" },\n        });\n      }\n    }\n    if (isSmsVisible) {\n      const number = value.startsWith(\"+\") ? value : `${countryCode}${value}`;\n      const result = await validatePhoneNumber(number);\n      if (result) {\n        return handleSocialLoginClick({\n          adapter,\n          loginParams: { loginProvider: LOGIN_PROVIDER.SMS_PASSWORDLESS, login_hint: typeof result === \"string\" ? result : number, name: \"Mobile\" },\n        });\n      }\n    }\n\n    setIsValidInput(false);\n    return undefined;\n  };\n\n  useEffect(() => {\n    const getLocation = async () => {\n      const result = await getUserCountry();\n      if (result && result.dialCode) {\n        setCountryCode(result.dialCode);\n      }\n    };\n    if (isSmsVisible) getLocation();\n  }, [isSmsVisible]);\n\n  const handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setFieldValue(e.target.value);\n    if (isValidInput === false) setIsValidInput(null);\n  };\n\n  const title = useMemo(() => {\n    if (isEmailVisible && isSmsVisible) return \"modal.social.passwordless-title\";\n    if (isEmailVisible) return \"modal.social.email\";\n    return \"modal.social.phone\";\n  }, [isEmailVisible, isSmsVisible]);\n\n  const placeholder = useMemo(() => {\n    if (isEmailVisible && isSmsVisible) return \"+(00)123456/name@example.com\";\n    if (isEmailVisible) return \"name@example.com\";\n    return \"+(00)123456\";\n  }, [isEmailVisible, isSmsVisible]);\n\n  const invalidInputErrorMessage = useMemo(() => {\n    if (isEmailVisible && isSmsVisible) return \"modal.errors-invalid-number-email\";\n    if (isEmailVisible) return \"modal.errors-invalid-email\";\n    return \"modal.errors-invalid-number\";\n  }, [isEmailVisible, isSmsVisible]);\n\n  return (\n    <div className=\"w3ajs-passwordless w3a-group w3a-group--passwordless\">\n      <div className=\"w3a-group__title\">\n        {t(title)}\n        {isSmsVisible && (\n          <div className=\"relative flex flex-col items-center cursor-pointer group\">\n            <Icon iconName={`information-circle${isDark ? \"-light\" : \"\"}`} />\n            <div className=\"absolute z-20 flex-col items-center hidden mb-5 top-4 group-hover:flex\">\n              <div className=\"w-3 h-3 ml-[3px] -mb-2 rotate-45 bg-app-gray-50 dark:bg-app-gray-600\" />\n              <div\n                className={`relative p-4 w-[300px] text-xs leading-none text-app-white rounded-md bg-app-gray-50 dark:bg-app-gray-600 shadow-lg ${\n                  isSmsVisible && !isEmailVisible ? \"left-20\" : \"left-8\"\n                }`}\n              >\n                <div className=\"mb-1 text-xs font-medium text-app-gray-900 dark:text-app-white\">{t(\"modal.popup.phone-header\")}</div>\n                <div className=\"text-xs text-app-gray-400\">{t(\"modal.popup.phone-body\")}</div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n      <form className=\"w3ajs-passwordless-form\" onSubmit={(e) => handleFormSubmit(e)}>\n        <input\n          className=\"w-full mb-4 w3a-text-field\"\n          name=\"passwordless-input\"\n          required\n          placeholder={`${t(\"modal.social.sms-placeholder-text\")} ${placeholder}`}\n          onFocus={(e) => {\n            e.target.placeholder = \"\";\n          }}\n          onBlur={(e) => {\n            e.target.placeholder = `${t(\"modal.social.sms-placeholder-text\")} ${placeholder}`;\n          }}\n          onChange={(e) => handleInputChange(e)}\n        />\n\n        {isValidInput === false && <div className=\"w3a-sms-field--error\">{t(invalidInputErrorMessage)}</div>}\n\n        <Button variant={isPrimaryBtn ? \"primary\" : \"tertiary\"} disabled={fieldValue === \"\"} className=\"w-full\" type=\"submit\">\n          {t(\"modal.social.passwordless-cta\")}\n        </Button>\n      </form>\n    </div>\n  );\n}\n","import { LOGIN_PROVIDER } from \"@toruslabs/openlogin-utils\";\nimport classNames from \"classnames\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { capitalizeFirstLetter } from \"../config\";\nimport { ThemedContext } from \"../context/ThemeContext\";\nimport { SocialLoginsConfig } from \"../interfaces\";\nimport i18n from \"../localeImport\";\nimport Button from \"./Button\";\nimport Image from \"./Image\";\n\n// const hasLightIcons = [\"apple\", \"github\"];\n\ninterface SocialLoginProps {\n  socialLoginsConfig: SocialLoginsConfig;\n  handleSocialLoginClick: (params: { adapter: string; loginParams: { loginProvider: string; login_hint?: string; name: string } }) => void;\n}\n\nfunction getProviderIcon(method: string, isDark: boolean, isPrimaryBtn: boolean) {\n  const imageId =\n    method === LOGIN_PROVIDER.TWITTER ? `login-twitter-x${isDark ? \"-light\" : \"-dark\"}` : `login-${method}${isDark ? \"-light\" : \"-dark\"}`;\n  const hoverId =\n    method === LOGIN_PROVIDER.APPLE || method === LOGIN_PROVIDER.GITHUB || method === LOGIN_PROVIDER.TWITTER ? imageId : `login-${method}-active`;\n\n  if (isPrimaryBtn) {\n    return <Image width=\"20\" imageId={hoverId} hoverImageId={hoverId} isButton />;\n  }\n\n  return <Image width=\"20\" imageId={imageId} hoverImageId={hoverId} isButton />;\n}\n\nexport default function SocialLogins(props: SocialLoginProps) {\n  const [canShowMore, setCanShowMore] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const {\n    socialLoginsConfig = {\n      loginMethods: {},\n      loginMethodsOrder: [],\n      adapter: \"\",\n      uiConfig: {},\n    },\n    handleSocialLoginClick,\n  } = props;\n  const { isDark } = useContext(ThemedContext);\n\n  const [t] = useTranslation(undefined, { i18n });\n\n  // Too small a function to use `useCallback`\n  const expandClickHandler = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  useEffect(() => {\n    const maxOptions = Object.keys(socialLoginsConfig.loginMethods).filter((loginMethodKey) => {\n      return socialLoginsConfig.loginMethods[loginMethodKey].showOnModal;\n    });\n    setCanShowMore(maxOptions.length > 4);\n  }, [socialLoginsConfig.loginMethods]);\n\n  const adapterListClass = classNames(\"w3a-adapter-list\", \"w3ajs-socials-adapters\", !isExpanded ? \" w3a-adapter-list--shrink\" : \"\");\n  const adapterButtonClass = classNames(\"w3a-button-expand\", \"w3ajs-button-expand\", isExpanded ? \"w3a-button--rotate\" : \"\");\n  const adapterExpandText = isExpanded ? t(\"modal.social.view-less\") : t(\"modal.social.view-more\");\n  const loginMethodsCount = Object.keys(socialLoginsConfig.loginMethods).length + 1;\n\n  const restrictedLoginMethods: string[] = [\n    LOGIN_PROVIDER.WEBAUTHN,\n    LOGIN_PROVIDER.JWT,\n    LOGIN_PROVIDER.SMS_PASSWORDLESS,\n    LOGIN_PROVIDER.EMAIL_PASSWORDLESS,\n  ];\n\n  return (\n    <div className=\"w3ajs-social-logins w3a-group\">\n      {/* <div className=\"w3a-group__title\">{t(\"modal.social.continue\")}</div> */}\n      <ul className={adapterListClass}>\n        {Object.keys(socialLoginsConfig.loginMethods).map((method) => {\n          const name = capitalizeFirstLetter(socialLoginsConfig.loginMethods[method].name || method);\n          const orderIndex = socialLoginsConfig.loginMethodsOrder.indexOf(method) + 1;\n          const order = orderIndex || Object.keys(socialLoginsConfig.loginMethods).length + 1;\n\n          const isMainOption = socialLoginsConfig.loginMethods[method].mainOption;\n          const isPrimaryBtn = socialLoginsConfig?.uiConfig?.primaryButton === \"socialLogin\" && order === 1;\n\n          const providerIcon = getProviderIcon(method, isDark, isPrimaryBtn);\n\n          if (socialLoginsConfig.loginMethods[method].showOnModal === false || restrictedLoginMethods.includes(method)) {\n            return null;\n          }\n\n          const loginMethodSpan = classNames(\"w3a-adapter-item\", socialLoginsConfig?.uiConfig?.loginGridCol === 2 ? \"col-span-3\" : \"col-span-2\");\n\n          if (isMainOption || order === 1) {\n            return (\n              <li className=\"col-span-6 w3a-adapter-item\" key={method} style={{ order }}>\n                <Button\n                  variant=\"secondary\"\n                  onClick={() =>\n                    handleSocialLoginClick({\n                      adapter: socialLoginsConfig.adapter,\n                      loginParams: { loginProvider: method, name, login_hint: \"\" },\n                    })\n                  }\n                  className=\"w-full\"\n                  title={name}\n                >\n                  {providerIcon}\n                  <p className=\"ml-2\">{t(\"modal.social.continueCustom\", { adapter: name })}</p>\n                </Button>\n              </li>\n            );\n          }\n          return (\n            <li className={loginMethodSpan} key={method} style={{ order: order + loginMethodsCount }}>\n              <Button\n                variant=\"secondary\"\n                onClick={() =>\n                  handleSocialLoginClick({\n                    adapter: socialLoginsConfig.adapter,\n                    loginParams: { loginProvider: method, name, login_hint: \"\" },\n                  })\n                }\n                className=\"w-full\"\n                title={name}\n              >\n                {providerIcon}\n              </Button>\n            </li>\n          );\n        })}\n      </ul>\n      <div className=\"w3a-social__policy\">{t(\"modal.social.policy\")}</div>\n      {canShowMore && (\n        <div className=\"text-right\">\n          <button type=\"button\" className={adapterButtonClass} onClick={expandClickHandler}>\n            <span className=\"w3ajs-button-expand-text\">{adapterExpandText}</span>\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","import type { SafeEventEmitter } from \"@toruslabs/openlogin-jrpc\";\nimport { LOGIN_PROVIDER } from \"@toruslabs/openlogin-utils\";\nimport { ADAPTER_NAMES, log } from \"@web3auth/base\";\nimport cloneDeep from \"lodash.clonedeep\";\nimport deepmerge from \"lodash.merge\";\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { ExternalWalletEventType, MODAL_STATUS, ModalState, SocialLoginEventType } from \"../interfaces\";\nimport i18n from \"../localeImport\";\nimport AdapterLoader from \"./AdapterLoader\";\nimport Button from \"./Button\";\nimport ExternalWallets from \"./ExternalWallets\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\n// import Loader from \"./Loader\";\nimport SocialLoginPasswordless from \"./SocialLoginPasswordless\";\nimport SocialLogins from \"./SocialLogins\";\n\ninterface ModalProps {\n  stateListener: SafeEventEmitter;\n  appLogo?: string;\n  appName?: string;\n  handleSocialLoginClick: (params: SocialLoginEventType) => void;\n  handleExternalWalletClick: (params: ExternalWalletEventType) => void;\n  handleShowExternalWallets: (externalWalletsInitialized: boolean) => void;\n  closeModal: () => void;\n}\n\nlog.enableAll();\n\n// const DETAILED_ADAPTERS = [WALLET_ADAPTERS.PHANTOM, WALLET_ADAPTERS.METAMASK];\n\nexport default function Modal(props: ModalProps) {\n  const [modalTransitionClasses, setModalTransitionClasses] = useState([\"w3a-modal__inner\"]);\n\n  const [modalState, setModalState] = useState<ModalState>({\n    externalWalletsVisibility: false,\n    status: MODAL_STATUS.INITIALIZED,\n    hasExternalWallets: false,\n    externalWalletsInitialized: false,\n    modalVisibility: false,\n    modalVisibilityDelayed: false,\n    postLoadingMessage: \"\",\n    walletConnectUri: \"\",\n    socialLoginsConfig: {\n      loginMethods: {},\n      loginMethodsOrder: [],\n      adapter: \"\",\n      uiConfig: {},\n    },\n    externalWalletsConfig: {},\n    detailedLoaderAdapter: \"\",\n    detailedLoaderAdapterName: \"\",\n    showExternalWalletsOnly: false,\n    wcAdapters: [],\n  });\n  const [t] = useTranslation(undefined, { i18n });\n\n  const { stateListener, appLogo, appName, handleSocialLoginClick, handleExternalWalletClick, handleShowExternalWallets, closeModal } = props;\n\n  useEffect(() => {\n    stateListener.emit(\"MOUNTED\");\n    stateListener.on(\"STATE_UPDATED\", (newModalState: Partial<ModalState>) => {\n      log.debug(\"state updated\", newModalState);\n\n      setModalState((prevState) => {\n        const mergedState = cloneDeep(deepmerge(prevState, newModalState));\n        return mergedState;\n      });\n    });\n  }, [stateListener]);\n\n  useEffect(() => {\n    let timeOutId: number;\n    if (modalState.modalVisibility) {\n      setModalState((prevState) => {\n        return { ...prevState, modalVisibilityDelayed: modalState.modalVisibility };\n      });\n\n      timeOutId = window.setTimeout(() => {\n        setModalTransitionClasses([\"w3a-modal__inner\", modalState.modalVisibility ? \"w3a-modal__inner--active\" : \"\"]);\n        // hide external wallets, if modal is closing, so that it will show social login screen on reopen.\n      }, 100);\n    } else {\n      setModalTransitionClasses([\"w3a-modal__inner\", modalState.modalVisibility ? \"w3a-modal__inner--active\" : \"\"]);\n      // hide external wallets, if modal is closing, so that it will show social login screen on reopen.\n\n      timeOutId = window.setTimeout(() => {\n        setModalState((prevState) => {\n          return { ...prevState, modalVisibilityDelayed: modalState.modalVisibility };\n        });\n      }, 250);\n    }\n    return () => {\n      clearTimeout(timeOutId);\n    };\n  }, [modalState.modalVisibility]);\n\n  const onCloseLoader = useCallback(() => {\n    if (modalState.status === MODAL_STATUS.CONNECTED) {\n      closeModal();\n    }\n    if (modalState.status === MODAL_STATUS.ERRORED) {\n      setModalState((prevState) => {\n        return { ...prevState, modalVisibility: true, status: MODAL_STATUS.INITIALIZED };\n      });\n    }\n  }, [closeModal, modalState.status]);\n\n  const preHandleExternalWalletClick = useCallback(\n    (params: ExternalWalletEventType) => {\n      const { adapter } = params;\n      setModalState((prevState) => {\n        return { ...prevState, detailedLoaderAdapter: adapter, detailedLoaderAdapterName: ADAPTER_NAMES[adapter] };\n      });\n      handleExternalWalletClick(params);\n    },\n    [handleExternalWalletClick]\n  );\n\n  const preHandleSocialWalletClick = (params: SocialLoginEventType) => {\n    const { loginParams } = params;\n    setModalState((prevState) => {\n      return { ...prevState, detailedLoaderAdapter: loginParams.loginProvider, detailedLoaderAdapterName: loginParams.name };\n    });\n    handleSocialLoginClick(params);\n  };\n\n  const isEmailPrimary = modalState.socialLoginsConfig?.uiConfig?.primaryButton === \"emailLogin\";\n  const isExternalPrimary = modalState.socialLoginsConfig?.uiConfig?.primaryButton === \"externalLogin\";\n\n  const externalWalletButton = (\n    <div className=\"w3ajs-external-wallet w3a-group\">\n      <div className=\"w3a-external-toggle w3ajs-external-toggle\">\n        <div className=\"w3a-group__title\">{t(\"modal.external.title\")}</div>\n        <Button\n          variant={isExternalPrimary ? \"primary\" : \"tertiary\"}\n          type=\"button\"\n          className=\"w-full w3ajs-external-toggle__button\"\n          onClick={() => {\n            handleShowExternalWallets(modalState.externalWalletsInitialized);\n            setModalState((prevState) => {\n              return {\n                ...prevState,\n                externalWalletsVisibility: true,\n              };\n            });\n          }}\n        >\n          {t(\"modal.external.connect\")}\n        </Button>\n      </div>\n    </div>\n  );\n\n  const areSocialLoginsVisible = useMemo(() => {\n    if (modalState.showExternalWalletsOnly) return false;\n    if (Object.keys(modalState.socialLoginsConfig?.loginMethods || {}).length === 0) return false;\n    const isAnySocialLoginVisible = Object.entries(modalState.socialLoginsConfig?.loginMethods || {}).some(\n      ([k, v]) => k !== LOGIN_PROVIDER.EMAIL_PASSWORDLESS && v.showOnModal !== false\n    );\n    if (isAnySocialLoginVisible) return true;\n    return false;\n  }, [modalState.showExternalWalletsOnly, modalState.socialLoginsConfig?.loginMethods]);\n  log.info(\"modal state\", modalState, areSocialLoginsVisible);\n\n  const isEmailPasswordlessLoginVisible = useMemo(() => {\n    return modalState.socialLoginsConfig?.loginMethods[LOGIN_PROVIDER.EMAIL_PASSWORDLESS]?.showOnModal;\n  }, [modalState.socialLoginsConfig?.loginMethods]);\n\n  const isSmsPasswordlessLoginVisible = useMemo(() => {\n    return modalState.socialLoginsConfig?.loginMethods[LOGIN_PROVIDER.SMS_PASSWORDLESS]?.showOnModal;\n  }, [modalState.socialLoginsConfig?.loginMethods]);\n\n  return (\n    modalState.modalVisibilityDelayed && (\n      <div id=\"w3a-modal\" className=\"w3a-modal\">\n        <div className={modalTransitionClasses.join(\" \")}>\n          <Header onClose={closeModal} appLogo={appLogo} appName={appName} />\n          {modalState.status !== MODAL_STATUS.INITIALIZED ? (\n            <div className=\"w3a-modal__content w3ajs-content\">\n              {/* {modalState.detailedLoaderAdapter ? ( */}\n              <AdapterLoader\n                onClose={onCloseLoader}\n                appLogo={appLogo}\n                modalStatus={modalState.status}\n                message={t(modalState.postLoadingMessage)}\n                adapter={modalState.detailedLoaderAdapter}\n                adapterName={modalState.detailedLoaderAdapterName}\n              />\n              {/* ) : ( */}\n              {/* <Loader onClose={onCloseLoader} modalStatus={modalState.status} message={t(modalState.postLoadingMessage)} /> */}\n              {/* )} */}\n            </div>\n          ) : (\n            <div className=\"w3a-modal__content w3ajs-content\">\n              {(areSocialLoginsVisible || isEmailPasswordlessLoginVisible || isSmsPasswordlessLoginVisible) &&\n              !modalState.externalWalletsVisibility ? (\n                <>\n                  {areSocialLoginsVisible ? (\n                    <SocialLogins\n                      handleSocialLoginClick={(params: SocialLoginEventType) => preHandleSocialWalletClick(params)}\n                      socialLoginsConfig={modalState.socialLoginsConfig}\n                    />\n                  ) : null}\n\n                  {(isEmailPasswordlessLoginVisible || isSmsPasswordlessLoginVisible) && (\n                    <SocialLoginPasswordless\n                      isEmailVisible={isEmailPasswordlessLoginVisible}\n                      isSmsVisible={isSmsPasswordlessLoginVisible}\n                      adapter={modalState.socialLoginsConfig?.adapter}\n                      handleSocialLoginClick={(params: SocialLoginEventType) => preHandleSocialWalletClick(params)}\n                      isPrimaryBtn={isEmailPrimary}\n                    />\n                  )}\n\n                  {/* button to show external wallets */}\n                  {modalState.hasExternalWallets && externalWalletButton}\n                </>\n              ) : (\n                <ExternalWallets\n                  modalStatus={modalState.status}\n                  showBackButton={areSocialLoginsVisible || isEmailPasswordlessLoginVisible || isSmsPasswordlessLoginVisible}\n                  handleExternalWalletClick={preHandleExternalWalletClick}\n                  walletConnectUri={modalState.walletConnectUri}\n                  wcAdapters={modalState.wcAdapters}\n                  config={modalState.externalWalletsConfig}\n                  hideExternalWallets={() =>\n                    setModalState((prevState) => {\n                      return { ...prevState, externalWalletsVisibility: false };\n                    })\n                  }\n                />\n              )}\n            </div>\n          )}\n\n          <Footer />\n        </div>\n      </div>\n    )\n  );\n}\n","import \"../css/web3auth.css\";\n\nimport { SafeEventEmitter } from \"@toruslabs/openlogin-jrpc\";\nimport { applyWhiteLabelTheme, LANGUAGES } from \"@toruslabs/openlogin-utils\";\nimport {\n  ADAPTER_EVENTS,\n  BaseAdapterConfig,\n  CONNECTED_EVENT_DATA,\n  IAdapterDataEvent,\n  IWalletConnectExtensionAdapter,\n  log,\n  LoginMethodConfig,\n  WALLET_ADAPTER_TYPE,\n  WALLET_ADAPTERS,\n  WalletConnectV2Data,\n  Web3AuthError,\n} from \"@web3auth/base\";\nimport { createRoot } from \"react-dom/client\";\n\nimport Modal from \"./components/Modal\";\nimport { ThemedContext } from \"./context/ThemeContext\";\nimport {\n  DEFAULT_LOGO_DARK,\n  DEFAULT_LOGO_LIGHT,\n  ExternalWalletEventType,\n  LOGIN_MODAL_EVENTS,\n  MODAL_STATUS,\n  ModalState,\n  SocialLoginEventType,\n  UIConfig,\n} from \"./interfaces\";\nimport i18n from \"./localeImport\";\nimport { getUserLanguage } from \"./utils\";\n\nfunction createWrapper(parentZIndex: string): HTMLElement {\n  const existingWrapper = document.getElementById(\"w3a-parent-container\");\n  if (existingWrapper) existingWrapper.remove();\n\n  const parent = document.createElement(\"section\");\n  parent.classList.add(\"w3a-parent-container\");\n  parent.setAttribute(\"id\", \"w3a-parent-container\");\n  parent.style.zIndex = parentZIndex;\n  parent.style.position = \"relative\";\n  const wrapper = document.createElement(\"section\");\n  wrapper.setAttribute(\"id\", \"w3a-container\");\n  parent.appendChild(wrapper);\n  document.body.appendChild(parent);\n  return wrapper;\n}\n\nclass LoginModal extends SafeEventEmitter {\n  private uiConfig: UIConfig;\n\n  private stateEmitter: SafeEventEmitter;\n\n  constructor(uiConfig: UIConfig) {\n    super();\n    this.uiConfig = uiConfig;\n\n    if (!uiConfig.logoDark) this.uiConfig.logoDark = DEFAULT_LOGO_DARK;\n    if (!uiConfig.logoLight) this.uiConfig.logoLight = DEFAULT_LOGO_LIGHT;\n    if (!uiConfig.mode) this.uiConfig.mode = \"light\";\n    if (!uiConfig.modalZIndex) this.uiConfig.modalZIndex = \"99998\";\n    if (typeof uiConfig.displayErrorsOnModal === \"undefined\") this.uiConfig.displayErrorsOnModal = true;\n    if (!uiConfig.appName) this.uiConfig.appName = \"Web3Auth\";\n    if (!uiConfig.loginGridCol) this.uiConfig.loginGridCol = 3;\n    if (!uiConfig.primaryButton) this.uiConfig.primaryButton = \"socialLogin\";\n    if (!uiConfig.defaultLanguage) this.uiConfig.defaultLanguage = getUserLanguage(uiConfig.defaultLanguage);\n\n    this.stateEmitter = new SafeEventEmitter();\n    this.subscribeCoreEvents(this.uiConfig.adapterListener);\n  }\n\n  get isDark(): boolean {\n    return this.uiConfig.mode === \"dark\" || (this.uiConfig.mode === \"auto\" && window.matchMedia(\"(prefers-color-scheme: dark)\").matches);\n  }\n\n  initModal = async (): Promise<void> => {\n    const darkState = { isDark: this.isDark };\n\n    const useLang = this.uiConfig.defaultLanguage || LANGUAGES.en;\n    // Load new language resource\n\n    if (useLang === LANGUAGES.de) {\n      import(\"./i18n/german.json\")\n        .then((messages) => {\n          i18n.addResourceBundle(useLang as string, \"translation\", messages.default);\n          return i18n.changeLanguage(useLang);\n        })\n        .catch((error) => {\n          log.error(error);\n        });\n    } else if (useLang === LANGUAGES.ja) {\n      import(`./i18n/japanese.json`)\n        .then((messages) => {\n          i18n.addResourceBundle(useLang as string, \"translation\", messages.default);\n          return i18n.changeLanguage(useLang);\n        })\n        .catch((error) => {\n          log.error(error);\n        });\n    } else if (useLang === LANGUAGES.ko) {\n      import(`./i18n/korean.json`)\n        .then((messages) => {\n          i18n.addResourceBundle(useLang as string, \"translation\", messages.default);\n          return i18n.changeLanguage(useLang);\n        })\n        .catch((error) => {\n          log.error(error);\n        });\n    } else if (useLang === LANGUAGES.zh) {\n      import(`./i18n/mandarin.json`)\n        .then((messages) => {\n          i18n.addResourceBundle(useLang as string, \"translation\", messages.default);\n          return i18n.changeLanguage(useLang);\n        })\n        .catch((error) => {\n          log.error(error);\n        });\n    } else if (useLang === LANGUAGES.es) {\n      import(`./i18n/spanish.json`)\n        .then((messages) => {\n          i18n.addResourceBundle(useLang as string, \"translation\", messages.default);\n          return i18n.changeLanguage(useLang);\n        })\n        .catch((error) => {\n          log.error(error);\n        });\n    } else if (useLang === LANGUAGES.fr) {\n      import(`./i18n/french.json`)\n        .then((messages) => {\n          i18n.addResourceBundle(useLang as string, \"translation\", messages.default);\n          return i18n.changeLanguage(useLang);\n        })\n        .catch((error) => {\n          log.error(error);\n        });\n    } else if (useLang === LANGUAGES.pt) {\n      import(`./i18n/portuguese.json`)\n        .then((messages) => {\n          i18n.addResourceBundle(useLang as string, \"translation\", messages.default);\n          return i18n.changeLanguage(useLang);\n        })\n        .catch((error) => {\n          log.error(error);\n        });\n    } else if (useLang === LANGUAGES.nl) {\n      import(`./i18n/dutch.json`)\n        .then((messages) => {\n          i18n.addResourceBundle(useLang as string, \"translation\", messages.default);\n          return i18n.changeLanguage(useLang);\n        })\n        .catch((error) => {\n          log.error(error);\n        });\n    } else if (useLang === LANGUAGES.tr) {\n      import(`./i18n/turkish.json`)\n        .then((messages) => {\n          i18n.addResourceBundle(useLang as string, \"translation\", messages.default);\n          return i18n.changeLanguage(useLang);\n        })\n        .catch((error) => {\n          log.error(error);\n        });\n    }\n\n    return new Promise((resolve) => {\n      this.stateEmitter.once(\"MOUNTED\", () => {\n        log.info(\"rendered\");\n        this.setState({\n          status: MODAL_STATUS.INITIALIZED,\n        });\n        return resolve();\n      });\n      const container = createWrapper(this.uiConfig.modalZIndex);\n      if (darkState.isDark) {\n        container.classList.add(\"dark\");\n      } else {\n        container.classList.remove(\"dark\");\n      }\n\n      const root = createRoot(container);\n      root.render(\n        <ThemedContext.Provider value={darkState}>\n          <Modal\n            closeModal={this.closeModal}\n            stateListener={this.stateEmitter}\n            handleShowExternalWallets={this.handleShowExternalWallets}\n            handleExternalWalletClick={this.handleExternalWalletClick}\n            handleSocialLoginClick={this.handleSocialLoginClick}\n            appLogo={darkState.isDark ? this.uiConfig.logoDark : this.uiConfig.logoLight}\n            appName={this.uiConfig.appName}\n          />\n        </ThemedContext.Provider>\n      );\n\n      if (this.uiConfig?.theme) {\n        const rootElement = document.getElementById(\"w3a-parent-container\") as HTMLElement;\n        applyWhiteLabelTheme(rootElement, this.uiConfig.theme);\n      }\n    });\n  };\n\n  addSocialLogins = (\n    adapter: WALLET_ADAPTER_TYPE,\n    loginMethods: LoginMethodConfig,\n    loginMethodsOrder: string[],\n    uiConfig: Omit<UIConfig, \"adapterListener\">\n  ): void => {\n    this.setState({\n      socialLoginsConfig: {\n        adapter,\n        loginMethods,\n        loginMethodsOrder,\n        uiConfig,\n      },\n    });\n    log.info(\"addSocialLogins\", adapter, loginMethods, loginMethodsOrder, uiConfig);\n  };\n\n  addWalletLogins = (externalWalletsConfig: Record<string, BaseAdapterConfig>, options: { showExternalWalletsOnly: boolean }): void => {\n    this.setState({\n      externalWalletsConfig,\n      externalWalletsInitialized: true,\n      showExternalWalletsOnly: !!options?.showExternalWalletsOnly,\n      externalWalletsVisibility: true,\n    });\n  };\n\n  open = () => {\n    this.setState({\n      modalVisibility: true,\n    });\n    this.emit(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY, true);\n  };\n\n  closeModal = () => {\n    this.setState({\n      modalVisibility: false,\n      externalWalletsVisibility: false,\n    });\n    this.emit(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY, false);\n  };\n\n  initExternalWalletContainer = () => {\n    this.setState({\n      hasExternalWallets: true,\n    });\n  };\n\n  private handleShowExternalWallets = (status: boolean) => {\n    this.emit(LOGIN_MODAL_EVENTS.INIT_EXTERNAL_WALLETS, { externalWalletsInitialized: status });\n  };\n\n  private handleExternalWalletClick = (params: ExternalWalletEventType) => {\n    log.info(\"external wallet clicked\", params);\n    const { adapter } = params;\n    this.emit(LOGIN_MODAL_EVENTS.LOGIN, {\n      adapter,\n    });\n  };\n\n  private handleSocialLoginClick = (params: SocialLoginEventType) => {\n    log.info(\"social login clicked\", params);\n    const { adapter, loginParams } = params;\n    this.emit(LOGIN_MODAL_EVENTS.LOGIN, {\n      adapter,\n      loginParams: { loginProvider: loginParams.loginProvider, login_hint: loginParams.login_hint, name: loginParams.name },\n    });\n  };\n\n  private setState = (newState: Partial<ModalState>) => {\n    this.stateEmitter.emit(\"STATE_UPDATED\", newState);\n  };\n\n  private updateWalletConnect = (walletConnectUri: string, wcAdapters: IWalletConnectExtensionAdapter[]): void => {\n    if (!walletConnectUri) return;\n    this.setState({\n      walletConnectUri,\n      wcAdapters,\n    });\n  };\n\n  private handleAdapterData = (adapterData: IAdapterDataEvent) => {\n    if (adapterData.adapterName === WALLET_ADAPTERS.WALLET_CONNECT_V2) {\n      const walletConnectData = adapterData.data as WalletConnectV2Data;\n      this.updateWalletConnect(walletConnectData.uri, walletConnectData.extensionAdapters);\n    }\n  };\n\n  private subscribeCoreEvents = (listener: SafeEventEmitter) => {\n    listener.on(ADAPTER_EVENTS.CONNECTING, (data) => {\n      log.info(\"connecting with adapter\", data);\n      // don't show loader in case of wallet connect, because currently it listens for incoming for incoming\n      // connections without any user interaction.\n      if (data?.adapter !== WALLET_ADAPTERS.WALLET_CONNECT_V2) {\n        // const provider = data?.loginProvider || \"\";\n\n        this.setState({ status: MODAL_STATUS.CONNECTING });\n      }\n    });\n    listener.on(ADAPTER_EVENTS.CONNECTED, (data: CONNECTED_EVENT_DATA) => {\n      log.debug(\"connected with adapter\", data);\n      // only show success if not being reconnected again.\n      if (!data.reconnected) {\n        this.setState({\n          status: MODAL_STATUS.CONNECTED,\n          modalVisibility: true,\n          postLoadingMessage: \"modal.post-loading.connected\",\n        });\n      } else {\n        this.setState({\n          status: MODAL_STATUS.CONNECTED,\n        });\n      }\n    });\n    // TODO: send adapter name in error\n    listener.on(ADAPTER_EVENTS.ERRORED, (error: Web3AuthError) => {\n      log.error(\"error\", error, error.message);\n      if (error.code === 5000) {\n        if (this.uiConfig.displayErrorsOnModal)\n          this.setState({\n            modalVisibility: true,\n            postLoadingMessage: error.message || \"modal.post-loading.something-wrong\",\n            status: MODAL_STATUS.ERRORED,\n          });\n        else\n          this.setState({\n            modalVisibility: false,\n          });\n      } else {\n        this.setState({\n          modalVisibility: true,\n          status: MODAL_STATUS.INITIALIZED,\n        });\n      }\n    });\n    listener.on(ADAPTER_EVENTS.DISCONNECTED, () => {\n      this.setState({ status: MODAL_STATUS.INITIALIZED, externalWalletsVisibility: false });\n      // this.toggleMessage(\"\");\n    });\n    listener.on(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, (adapterData: IAdapterDataEvent) => {\n      this.handleAdapterData(adapterData);\n    });\n  };\n}\n\nexport default LoginModal;\n"],"names":["capitalizeFirstLetter","string","charAt","toUpperCase","slice","OPENLOGIN_PROVIDERS","Object","values","LOGIN_PROVIDER","filter","x","WEBAUTHN","JWT","OPENLOGIN_PROVIDERS_NAMES","reduce","acc","LOGIN_MODAL_EVENTS","INIT_EXTERNAL_WALLETS","LOGIN","DISCONNECT","MODAL_VISIBILITY","MODAL_STATUS","INITIALIZED","CONNECTED","CONNECTING","ERRORED","DEFAULT_LOGO_LIGHT","DEFAULT_LOGO_DARK","WALLET_CONNECT_LOGO","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","i18nInstance","i18n","createInstance","use","initReactI18next","init","resources","en","translation","lng","fallbackLng","interpolation","escapeValue","debug","react","useSuspense","SelfCustodyViaWeb3Auth","t","useTranslation","undefined","_jsxs","className","children","_jsx","height","src","alt","Footer","icons","image","close","expand","connected","Icon","props","iconName","iconTitle","width","title","Image","hoverImageId","imageId","isButton","_Fragment","closeIcon","DetailedLoader","adapter","appLogo","message","modalStatus","adapterName","onClose","providerIcon","useEffect","log","setTimeout","ADAPTER_STATUS","onClick","Button","variant","size","disabled","sizeClass","memo","Loader","label","canEmit","WalletConnect","walletConnectUri","tabIndex","role","copyToClipboard","onKeyDown","QRCode","eyeRadius","qrStyle","removeQrCodeBehindLogo","logoImage","value","formatIOSMobile","params","encodedUri","encodeURIComponent","uri","universalLink","deepLink","endsWith","formatMobileRegistryEntry","entry","os","platform","universal","native","name","logo","href","bowser","OS_MAP","iOS","formatMobileRegistry","registry","map","ExternalWallet","hideExternalWallets","handleExternalWalletClick","config","showBackButton","wcAdapters","isLoaded","setIsLoaded","useState","adapterVisibilityMap","setAdapterVisibilityMap","externalButtons","setExternalButtons","deviceType","useMemo","browser","getParser","window","navigator","userAgent","getPlatformType","deviceDetails","getOSName","_config$walletConnect","walletConnectAdapterName","WALLET_ADAPTERS","WALLET_CONNECT_V2","wcAvailable","showOnModal","keys","length","canShowMap","forEach","adapterConfig","showOnDesktop","showOnMobile","buttons","PLATFORMS_MAP","mobile","mobileLinks","_window$ethereum","ethereum","isMetaMask","push","link","isLink","block","adapterBtns","includes","desktop","button","_config$button$name","_config$button$name2","isBlock","join","rel","target","ThemedContext","createContext","isDark","Header","useContext","appName","headerLogo","subtitle","memoizedHeader","prevProps","nextProps","displayName","getAdapterSocialLogins","loginMethodsConfig","finalLoginMethodsConfig","OPENLOGIN","loginMethod","currentLoginMethodConfig","_objectSpread","WalletInitializationError","invalidParams","validateImageUrl","url","Promise","resolve","reject","img","complete","addEventListener","getNetworkIconId","ticker","fallbackId","toLowerCase","isValid","passwordlessBackendUrl","getUserCountry","result","get","data","country","dialCode","dial_code","error","validatePhoneNumber","phoneNumber","post","phone_number","success","parsed_number","status","getUserLanguage","defaultLanguage","userLanguage","browserLanguage","language","split","prototype","hasOwnProperty","call","LANGUAGE_MAP","LANGUAGES","SocialLoginPasswordless","handleSocialLoginClick","isPrimaryBtn","isEmailVisible","isSmsVisible","fieldValue","setFieldValue","countryCode","setCountryCode","isValidInput","setIsValidInput","handleFormSubmit","e","preventDefault","isEmailValid","match","loginParams","loginProvider","EMAIL_PASSWORDLESS","login_hint","number","startsWith","SMS_PASSWORDLESS","getLocation","handleInputChange","placeholder","invalidInputErrorMessage","onSubmit","required","onFocus","onBlur","onChange","getProviderIcon","method","TWITTER","hoverId","APPLE","GITHUB","SocialLogins","canShowMore","setCanShowMore","isExpanded","setIsExpanded","socialLoginsConfig","loginMethods","loginMethodsOrder","uiConfig","expandClickHandler","maxOptions","loginMethodKey","adapterListClass","classNames","adapterButtonClass","adapterExpandText","loginMethodsCount","restrictedLoginMethods","_socialLoginsConfig$u","_socialLoginsConfig$u2","orderIndex","indexOf","order","isMainOption","mainOption","primaryButton","loginMethodSpan","loginGridCol","enableAll","Modal","_modalState$socialLog","_modalState$socialLog2","_modalState$socialLog5","_modalState$socialLog7","_modalState$socialLog9","_modalState$socialLog10","modalTransitionClasses","setModalTransitionClasses","modalState","setModalState","externalWalletsVisibility","hasExternalWallets","externalWalletsInitialized","modalVisibility","modalVisibilityDelayed","postLoadingMessage","externalWalletsConfig","detailedLoaderAdapter","detailedLoaderAdapterName","showExternalWalletsOnly","stateListener","handleShowExternalWallets","closeModal","emit","on","newModalState","prevState","mergedState","cloneDeep","deepmerge","timeOutId","clearTimeout","onCloseLoader","useCallback","preHandleExternalWalletClick","ADAPTER_NAMES","preHandleSocialWalletClick","isEmailPrimary","isExternalPrimary","externalWalletButton","areSocialLoginsVisible","_modalState$socialLog3","_modalState$socialLog4","isAnySocialLoginVisible","entries","some","k","v","info","isEmailPasswordlessLoginVisible","_modalState$socialLog6","isSmsPasswordlessLoginVisible","_modalState$socialLog8","id","AdapterLoader","ExternalWallets","createWrapper","parentZIndex","existingWrapper","getElementById","remove","parent","classList","add","setAttribute","zIndex","position","wrapper","body","LoginModal","SafeEventEmitter","constructor","_defineProperty","darkState","useLang","de","then","messages","addResourceBundle","default","changeLanguage","catch","ja","ko","zh","es","fr","pt","nl","tr","_this$uiConfig","stateEmitter","once","setState","container","modalZIndex","root","createRoot","render","Provider","logoDark","logoLight","theme","rootElement","applyWhiteLabelTheme","options","newState","adapterData","walletConnectData","updateWalletConnect","extensionAdapters","listener","ADAPTER_EVENTS","reconnected","code","displayErrorsOnModal","DISCONNECTED","ADAPTER_DATA_UPDATED","handleAdapterData","mode","subscribeCoreEvents","adapterListener","matchMedia","matches"],"mappings":"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","x_google_ignoreList":[2]}