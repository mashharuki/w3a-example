{
  "version": 3,
  "sources": ["../../@web3auth/wallet-services-plugin-react-hooks/dist/walletServicesPluginReactHooks.esm.js"],
  "sourcesContent": ["import { EVM_PLUGINS, PLUGIN_EVENTS, WalletServicesPluginError, WalletInitializationError } from '@web3auth/base';\nimport { createContext, useState, useContext, useEffect, useCallback, useMemo, createElement } from 'react';\n\nconst WalletServicesContext = createContext(null);\nfunction WalletServicesContextProvider({\n  children,\n  context\n}) {\n  const [isPluginConnected, setIsPluginConnected] = useState(false);\n  const [walletServicesPlugin, setWalletServicesPlugin] = useState(null);\n  const web3AuthContext = useContext(context);\n  useEffect(() => {\n    const connectedListener = () => {\n      setIsPluginConnected(true);\n    };\n    const disconnectedListener = () => {\n      setIsPluginConnected(false);\n    };\n    const {\n      getPlugin,\n      isInitialized\n    } = web3AuthContext;\n    if (isInitialized) {\n      const plugin = getPlugin(EVM_PLUGINS.WALLET_SERVICES);\n      setWalletServicesPlugin(plugin);\n    }\n    if (walletServicesPlugin) {\n      walletServicesPlugin.on(PLUGIN_EVENTS.CONNECTED, connectedListener);\n      walletServicesPlugin.on(PLUGIN_EVENTS.DISCONNECTED, disconnectedListener);\n    }\n    return () => {\n      if (walletServicesPlugin) {\n        walletServicesPlugin.off(PLUGIN_EVENTS.CONNECTED, connectedListener);\n        walletServicesPlugin.off(PLUGIN_EVENTS.DISCONNECTED, disconnectedListener);\n      }\n    };\n  }, [walletServicesPlugin, web3AuthContext]);\n  const showWalletConnectScanner = useCallback(async () => {\n    if (!walletServicesPlugin) throw WalletServicesPluginError.notInitialized();\n    if (!isPluginConnected) throw WalletServicesPluginError.walletPluginNotConnected();\n    return walletServicesPlugin.showWalletConnectScanner();\n  }, [walletServicesPlugin, isPluginConnected]);\n  const showWalletUI = useCallback(async () => {\n    if (!walletServicesPlugin) throw WalletServicesPluginError.notInitialized();\n    if (!isPluginConnected) throw WalletServicesPluginError.walletPluginNotConnected();\n    return walletServicesPlugin.showWalletUi();\n  }, [walletServicesPlugin, isPluginConnected]);\n  const showCheckout = useCallback(async () => {\n    if (!walletServicesPlugin) throw WalletServicesPluginError.notInitialized();\n    if (!isPluginConnected) throw WalletServicesPluginError.walletPluginNotConnected();\n    return walletServicesPlugin.showCheckout();\n  }, [walletServicesPlugin, isPluginConnected]);\n  const value = useMemo(() => {\n    return {\n      plugin: walletServicesPlugin,\n      isPluginConnected,\n      showWalletConnectScanner,\n      showCheckout,\n      showWalletUI\n    };\n  }, [walletServicesPlugin, isPluginConnected, showWalletConnectScanner, showCheckout, showWalletUI]);\n  return createElement(WalletServicesContext.Provider, {\n    value\n  }, children);\n}\n\nconst useWalletServicesPlugin = () => {\n  const context = useContext(WalletServicesContext);\n  if (!context) {\n    throw WalletInitializationError.fromCode(1000, \"usage of useWalletServicesPlugin not wrapped in `WalletServicesContextProvider`.\");\n  }\n  return context;\n};\n\nfunction WalletServicesProvider({\n  children,\n  context\n}) {\n  const wsElement = createElement(WalletServicesContextProvider, {\n    context\n  }, children);\n  return wsElement;\n}\n\nexport { WalletServicesContext, WalletServicesContextProvider, WalletServicesProvider, useWalletServicesPlugin };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AACA,mBAAoG;AAEpG,IAAM,4BAAwB,4BAAc,IAAI;AAChD,SAAS,8BAA8B;AAAA,EACrC;AAAA,EACA;AACF,GAAG;AACD,QAAM,CAAC,mBAAmB,oBAAoB,QAAI,uBAAS,KAAK;AAChE,QAAM,CAAC,sBAAsB,uBAAuB,QAAI,uBAAS,IAAI;AACrE,QAAM,sBAAkB,yBAAW,OAAO;AAC1C,8BAAU,MAAM;AACd,UAAM,oBAAoB,MAAM;AAC9B,2BAAqB,IAAI;AAAA,IAC3B;AACA,UAAM,uBAAuB,MAAM;AACjC,2BAAqB,KAAK;AAAA,IAC5B;AACA,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,IACF,IAAI;AACJ,QAAI,eAAe;AACjB,YAAM,SAAS,UAAU,YAAY,eAAe;AACpD,8BAAwB,MAAM;AAAA,IAChC;AACA,QAAI,sBAAsB;AACxB,2BAAqB,GAAG,cAAc,WAAW,iBAAiB;AAClE,2BAAqB,GAAG,cAAc,cAAc,oBAAoB;AAAA,IAC1E;AACA,WAAO,MAAM;AACX,UAAI,sBAAsB;AACxB,6BAAqB,IAAI,cAAc,WAAW,iBAAiB;AACnE,6BAAqB,IAAI,cAAc,cAAc,oBAAoB;AAAA,MAC3E;AAAA,IACF;AAAA,EACF,GAAG,CAAC,sBAAsB,eAAe,CAAC;AAC1C,QAAM,+BAA2B,0BAAY,YAAY;AACvD,QAAI,CAAC,qBAAsB,OAAM,0BAA0B,eAAe;AAC1E,QAAI,CAAC,kBAAmB,OAAM,0BAA0B,yBAAyB;AACjF,WAAO,qBAAqB,yBAAyB;AAAA,EACvD,GAAG,CAAC,sBAAsB,iBAAiB,CAAC;AAC5C,QAAM,mBAAe,0BAAY,YAAY;AAC3C,QAAI,CAAC,qBAAsB,OAAM,0BAA0B,eAAe;AAC1E,QAAI,CAAC,kBAAmB,OAAM,0BAA0B,yBAAyB;AACjF,WAAO,qBAAqB,aAAa;AAAA,EAC3C,GAAG,CAAC,sBAAsB,iBAAiB,CAAC;AAC5C,QAAM,mBAAe,0BAAY,YAAY;AAC3C,QAAI,CAAC,qBAAsB,OAAM,0BAA0B,eAAe;AAC1E,QAAI,CAAC,kBAAmB,OAAM,0BAA0B,yBAAyB;AACjF,WAAO,qBAAqB,aAAa;AAAA,EAC3C,GAAG,CAAC,sBAAsB,iBAAiB,CAAC;AAC5C,QAAM,YAAQ,sBAAQ,MAAM;AAC1B,WAAO;AAAA,MACL,QAAQ;AAAA,MACR;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF,GAAG,CAAC,sBAAsB,mBAAmB,0BAA0B,cAAc,YAAY,CAAC;AAClG,aAAO,4BAAc,sBAAsB,UAAU;AAAA,IACnD;AAAA,EACF,GAAG,QAAQ;AACb;AAEA,IAAM,0BAA0B,MAAM;AACpC,QAAM,cAAU,yBAAW,qBAAqB;AAChD,MAAI,CAAC,SAAS;AACZ,UAAM,0BAA0B,SAAS,KAAM,kFAAkF;AAAA,EACnI;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB;AAAA,EAC9B;AAAA,EACA;AACF,GAAG;AACD,QAAM,gBAAY,4BAAc,+BAA+B;AAAA,IAC7D;AAAA,EACF,GAAG,QAAQ;AACX,SAAO;AACT;",
  "names": []
}
